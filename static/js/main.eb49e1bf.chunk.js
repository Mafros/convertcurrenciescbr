(this.webpackJsonpconvertcurrenciescbr=this.webpackJsonpconvertcurrenciescbr||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(3),s=a(4),l=a(1),i=a(8),c=a(7),r=a(0),u=a.n(r),o=a(5),h=a.n(o),m=(a(15),a(6)),g=a.n(m),v=new Date,C=g()(v.toLocaleString()).format("MM/DD/YYYY");console.log(C);var S="https://cors-anywhere.herokuapp.com/http://www.cbr.ru/scripts/XML_daily.asp?date_req="+C;console.log(S);var p=[],x=[],d=[],b=[],E=function(e){Object(i.a)(a,e);var t=Object(c.a)(a);function a(e){var s;return Object(n.a)(this,a),(s=t.call(this,e)).state={codeLValute:["USD","RUB"],valueLValute:[71.94,1],curAmount1:1,curAmount2:1,curAmount3:1,curAmount4:1,select1:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",select2:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",select3:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",select4:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c",nominal1:0,nominal2:0,dateValuteToday:b[0]},s.onChangeSelect1=s.onChangeSelect1.bind(Object(l.a)(s)),s.onChangeSelect2=s.onChangeSelect2.bind(Object(l.a)(s)),s.onChangeSelect3=s.onChangeSelect3.bind(Object(l.a)(s)),s.onChangeSelect4=s.onChangeSelect4.bind(Object(l.a)(s)),s.onChangeCurrencies1=s.onChangeCurrencies1.bind(Object(l.a)(s)),s.onChangeCurrencies2=s.onChangeCurrencies2.bind(Object(l.a)(s)),s.onChangeCurrencies3=s.onChangeCurrencies3.bind(Object(l.a)(s)),s.onChangeCurrencies4=s.onChangeCurrencies4.bind(Object(l.a)(s)),s.onClickedBut=s.onClickedBut.bind(Object(l.a)(s)),s.onSubmit=s.onSubmit.bind(Object(l.a)(s)),s}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=new XMLHttpRequest;e.addEventListener("readystatechange",(function(){if(4===e.readyState)if(200===e.status){var t=(new DOMParser).parseFromString(e.responseText,"text/xml");console.log(t);for(var a=t.getElementsByTagName("Value"),n=t.getElementsByTagName("CharCode"),s=t.getElementsByTagName("Nominal"),l=t.getElementsByTagName("ValCurs")[0].getAttribute("Date").toString(),i=0;i<n.length;i++)p[i]=n[i].firstChild.textContent;for(var c=0;c<a.length;c++)x[c]=a[c].firstChild.textContent.replace(/,/,".");for(var r=0;r<s.length;r++)d[r]=s[r].firstChild.textContent;p.push("RUB"),x.push("1"),d.push("1"),b.push(l),p.push("\u0412\u044b\u0431\u0440\u0430\u0442\u044c"),x.push("0"),d.push("0")}else console.error(e.responseText)})),e.open("GET",S,!0),e.send()}},{key:"onChangeSelect1",value:function(e){this.setState({select1:e.target.value});for(var t=0;t<this.state.codeLValute.length;t++)if(e.target.value===this.state.codeLValute[t])return void(this.curAmount1=parseFloat(this.state.valueLValute[t]))}},{key:"onChangeSelect2",value:function(e){this.setState({select2:e.target.value});for(var t=0;t<this.state.codeLValute.length;t++)if(e.target.value===this.state.codeLValute[t])return void(this.curAmount2=parseFloat(this.state.valueLValute[t]))}},{key:"onChangeSelect3",value:function(e){this.setState({select3:e.target.value});for(var t=0;t<p.length;t++)if(e.target.value===p[t])return this.curAmount3=parseFloat(x[t]),void this.setState({nominal1:d[t]})}},{key:"onChangeSelect4",value:function(e){this.setState({select4:e.target.value});for(var t=0;t<p.length;t++)if(e.target.value===p[t])return this.curAmount4=parseFloat(x[t]),void this.setState({nominal2:d[t]})}},{key:"onChangeCurrencies1",value:function(e){var t=e.target.value;this.state.select1!==this.state.select2?(this.curAmount1=parseFloat(this.curAmount1),this.curAmount2=parseFloat(this.curAmount2),this.setState({text1:t}),this.setState({text2:t*(this.curAmount1/this.curAmount2).toFixed(4)})):this.state.select1===this.state.select2&&(this.setState({text1:t}),this.setState({text2:1*t}))}},{key:"onChangeCurrencies2",value:function(e){var t=e.target.value;this.state.select1!==this.state.select2?(this.curAmount1=parseFloat(this.curAmount1),this.curAmount2=parseFloat(this.curAmount2),this.setState({text2:t}),this.setState({text1:t*(this.curAmount2/this.curAmount1).toFixed(4)})):this.state.select1===this.state.select2&&(this.setState({text2:t}),this.setState({text1:1*t}))}},{key:"onChangeCurrencies3",value:function(e){var t=e.target.value;this.state.select3!==this.state.select4?(this.setState({text3:t}),this.setState({text4:t*(this.curAmount3/this.curAmount4).toFixed(4)})):this.state.select3===this.state.select4&&(this.setState({text3:t}),this.setState({text4:1*t}))}},{key:"onChangeCurrencies4",value:function(e){var t=e.target.value;this.state.select3!==this.state.select4?(this.setState({text4:t}),this.setState({text3:t*(this.curAmount4/this.curAmount3).toFixed(4)})):this.state.select3===this.state.select4&&(this.setState({text4:t}),this.setState({text3:1*t}))}},{key:"onClickedBut",value:function(e){var t=this.state.select3,a=this.state.select4;this.setState({select3:a}),this.setState({select4:t});var n=this.curAmount3,s=this.curAmount4;this.curAmount3=s,this.curAmount4=n;var l=this.state.text3,i=this.state.text4;this.setState({text3:i}),this.setState({text4:l});var c=this.state.nominal1,r=this.state.nominal2;this.setState({nominal1:r}),this.setState({nominal2:c})}},{key:"onSubmit",value:function(e){var t=this.state.select1,a=this.state.select2;this.setState({select1:a}),this.setState({select2:t});var n=this.curAmount1,s=this.curAmount2;this.curAmount1=s,this.curAmount2=n,console.log(this.curAmount1+" "+this.curAmount2),e.preventDefault();var l=this.state.text1,i=this.state.text2;this.setState({text1:i}),this.setState({text2:l}),e.preventDefault()}},{key:"render",value:function(){var e=this.state,t=e.select1,a=e.select2,n=e.select3,s=e.select4,l=e.text1,i=e.text2,c=e.text3,r=e.text4;return u.a.createElement("div",{align:"center"},u.a.createElement("form",{onSubmit:this.onSubmit},u.a.createElement("ul",{className:"nav"},u.a.createElement("li",{align:"left"},u.a.createElement("label",{className:"algn"},"\u041a\u043e\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u0432\u0430\u043b\u044e\u0442\u044b \u043b\u043e\u043a\u0430\u043b\u044c\u043d\u043e "),u.a.createElement("label",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443: "),u.a.createElement("select",{name:"select1",value:t,onChange:this.onChangeSelect1},u.a.createElement("option",{value:"RUB"},"RUB"),u.a.createElement("option",{value:"USD"},"USD"),u.a.createElement("option",{value:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")),u.a.createElement("h",null," "),u.a.createElement("select",{name:"select2",value:a,onChange:this.onChangeSelect2},u.a.createElement("option",{value:"RUB"},"RUB"),u.a.createElement("option",{value:"USD"},"USD"),u.a.createElement("option",{value:"\u0412\u044b\u0431\u0440\u0430\u0442\u044c"},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c")),u.a.createElement("p",null),u.a.createElement("input",{type:"text",name:"text1",value:l,onChange:this.onChangeCurrencies1}),u.a.createElement("h",null," "),u.a.createElement("input",{type:"text",name:"text2",value:i,onChange:this.onChangeCurrencies2}),u.a.createElement("input",{className:"nobcgkc",type:"submit",value:"\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0443 \u043c\u0435\u0441\u0442\u0430\u043c\u0438"}),u.a.createElement("p",null),u.a.createElement("label",{className:"algn"},"\u041a\u043e\u0432\u0435\u0440\u0442\u0430\u0446\u0438\u044f \u0432\u0430\u043b\u044e\u0442\u044b \u0438\u0441\u0445\u043e\u0434\u044f \u0441\u0430\u0439\u0442\u0430 cbr.ru "),u.a.createElement("label",null,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0430\u043b\u044e\u0442\u0443: "),u.a.createElement("select",{name:"select3",value:n,onChange:this.onChangeSelect3},p.map((function(e){return u.a.createElement("option",{value:e},e)}))),u.a.createElement("h",null," "),u.a.createElement("select",{name:"select4",value:s,onChange:this.onChangeSelect4},p.map((function(e){return u.a.createElement("option",{value:e},e)}))),u.a.createElement("text",{className:"algn2"},"  \u041d\u043e\u043c\u0438\u043d\u0430\u043b: "+this.state.nominal1+"                          \u041d\u043e\u043c\u0438\u043d\u0430\u043b: "+this.state.nominal2),u.a.createElement("input",{type:"text",name:"text3",value:c,onChange:this.onChangeCurrencies3}),u.a.createElement("h",null," "),u.a.createElement("input",{type:"text",name:"text4",value:r,onChange:this.onChangeCurrencies4}),u.a.createElement("label",{className:"algn"},"\u0414\u0430\u043d\u043d\u044b\u0435 \u0441\u043e\u0431\u0440\u0430\u043d\u044b \u043d\u0430 \u043c\u043e\u043c\u0435\u043d\u0442: "+b.toString()),u.a.createElement("input",{className:"nobcgkc",type:"button",value:"\u041f\u043e\u043c\u0435\u043d\u044f\u0442\u044c \u0432\u0430\u043b\u044e\u0442\u0443 \u043c\u0435\u0441\u0442\u0430\u043c\u0438",onClick:this.onClickedBut})))))}}]),a}(r.Component);h.a.render(u.a.createElement(E,null),document.getElementById("root"))},15:function(e,t,a){},9:function(e,t,a){e.exports=a(10)}},[[9,1,2]]]);
//# sourceMappingURL=main.eb49e1bf.chunk.js.map